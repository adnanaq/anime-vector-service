# Vector Service Configuration
VECTOR_SERVICE_HOST=0.0.0.0
VECTOR_SERVICE_PORT=8002
DEBUG=true

# Qdrant Vector Database Configuration
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION_NAME=anime_database
QDRANT_VECTOR_SIZE=384
QDRANT_DISTANCE_METRIC=cosine

# Multi-Vector Configuration
IMAGE_VECTOR_SIZE=512

# Modern Embedding Configuration
TEXT_EMBEDDING_PROVIDER=huggingface
TEXT_EMBEDDING_MODEL=BAAI/bge-m3
IMAGE_EMBEDDING_PROVIDER=jinaclip
IMAGE_EMBEDDING_MODEL=jinaai/jina-clip-v2

# Model-Specific Configuration
BGE_MODEL_VERSION=m3
BGE_MODEL_SIZE=base
BGE_MAX_LENGTH=8192
JINACLIP_INPUT_RESOLUTION=512
JINACLIP_TEXT_MAX_LENGTH=77

# Model Management
MODEL_CACHE_DIR=./cache/models
MODEL_WARM_UP=false

# Qdrant Performance Optimization
QDRANT_ENABLE_QUANTIZATION=false
QDRANT_QUANTIZATION_TYPE=scalar
QDRANT_QUANTIZATION_ALWAYS_RAM=

# HNSW Configuration (for large datasets)
QDRANT_HNSW_EF_CONSTRUCT=100
QDRANT_HNSW_M=16
QDRANT_HNSW_MAX_INDEXING_THREADS=0

# Payload Indexing
QDRANT_ENABLE_PAYLOAD_INDEXING=true
QDRANT_INDEXED_PAYLOAD_FIELDS=["type","status","year","genres","studios"]

# Storage and Memory
QDRANT_ENABLE_WAL=true
QDRANT_MEMORY_MAPPING_THRESHOLD=1000

# API Configuration
API_TITLE=Anime Vector Service
API_VERSION=1.0.0
API_DESCRIPTION=Microservice for anime vector database operations
MAX_SEARCH_LIMIT=100
DEFAULT_BATCH_SIZE=100
MAX_BATCH_SIZE=500

# Request Configuration
REQUEST_TIMEOUT=30

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Fine-tuning Configuration (optional)
ENABLE_FINE_TUNING=false
FINE_TUNING_DATA_PATH=data/anime_fine_tuning_data.json
FINE_TUNING_MODEL_DIR=models/anime_finetuned
FINE_TUNING_USE_LORA=true
FINE_TUNING_LORA_R=8
FINE_TUNING_LORA_ALPHA=32
FINE_TUNING_LORA_DROPOUT=0.1
FINE_TUNING_BATCH_SIZE=16
FINE_TUNING_LEARNING_RATE=0.0001
FINE_TUNING_NUM_EPOCHS=3

# Character Recognition
CHARACTER_RECOGNITION_ENABLED=true
CHARACTER_RECOGNITION_WEIGHT=0.4
CHARACTER_MIN_CONFIDENCE=0.5

# Art Style Classification
ART_STYLE_CLASSIFICATION_ENABLED=true
ART_STYLE_CLASSIFICATION_WEIGHT=0.3
ART_STYLE_MIN_CONFIDENCE=0.3

# Genre Enhancement
GENRE_ENHANCEMENT_ENABLED=true
GENRE_ENHANCEMENT_WEIGHT=0.3
GENRE_MIN_CONFIDENCE=0.4

# AniDB API Configuration
ANIDB_CLIENT=your_registered_client_name
ANIDB_CLIENTVER=your_client_version
ANIDB_PROTOVER=1
ANIDB_MIN_REQUEST_INTERVAL=2.0
ANIDB_MAX_REQUEST_INTERVAL=10.0
ANIDB_ERROR_COOLDOWN_BASE=5.0
ANIDB_MAX_RETRIES=3
ANIDB_CIRCUIT_BREAKER_THRESHOLD=5
ANIDB_CIRCUIT_BREAKER_TIMEOUT=300